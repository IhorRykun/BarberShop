{"mappings":"AAAAA,OAAOC,iBAAiB,QAExB,WACE,IAAIC,EAAmB,GAGH,SAAXC,EAAmBC,GAC1B,IAAIC,EAAiBD,GAEjBE,SAASC,iBAAiB,yBAC1BF,GACFA,EAAeG,SAAQC,IAChBP,EAAiBO,EAAcC,KAO3B,SAAgBD,GAC7B,IAAIE,EAAiB,KACrBT,EAAiBO,EAAcC,KAAM,EACrC,MAAME,EAAWC,SAASJ,EAAcK,QAAQL,eAC5CI,SAASJ,EAAcK,QAAQL,eAC/B,IACEM,EAAaF,SAASJ,EAAcO,WACpCC,EAAgB,EAChBC,EAAOC,IACNR,IAAgBA,EAAiBQ,GACtC,MAAMC,EAAWC,KAAKC,KAAKH,EAAYR,GAAkBC,EAAU,GACnEH,EAAcO,UAAYK,KAAKE,MAC7BH,GAAYH,EAAgBF,IAE1BK,EAAW,EACbpB,OAAOwB,sBAAsBN,GAE7BhB,EAAiBO,EAAcC,KAAM,CAAK,EAG9CV,OAAOwB,sBAAsBN,E,CA1BvBO,CAAsBhB,EAAc,G,CAgCR,IAGhCiB,EAAW,IAAIC,sBAAqB,CAACC,EAASF,KAChDE,EAAQpB,SAAQqB,IACd,GAAIA,EAAMC,eAAgB,CACxB,MACM1B,EADgByB,EAAME,OACcxB,iBACxC,yBAEEH,EAAoB4B,QACtB7B,EAAmBC,E,IAKvB,GAhBU,CACZ6B,UAAW,KAkBE3B,SAASC,iBAAiB,2BAEhCC,SAAQ0B,IACfR,EAASS,QAAQD,EAAQ,G","sources":["src/js/counter.js"],"sourcesContent":["window.addEventListener('load', windowLoad);\n\nfunction windowLoad() {\n  let runningAnimation = {};\n\n  // Функція ініціалізації\n  function digitsCountersInit(digitsCountersItems) {\n    let digitsCounters = digitsCountersItems\n      ? digitsCountersItems\n      : document.querySelectorAll('[data-digits-counter]');\n    if (digitsCounters) {\n      digitsCounters.forEach(digitsCounter => {\n        if (!runningAnimation[digitsCounter.id]) {\n          digitsCountersAnimate(digitsCounter);\n        }\n      });\n    }\n  }\n  // Функція анімації\n  function digitsCountersAnimate(digitsCounter) {\n    let startTimestamp = null;\n    runningAnimation[digitsCounter.id] = true;\n    const duration = parseInt(digitsCounter.dataset.digitsCounter)\n      ? parseInt(digitsCounter.dataset.digitsCounter)\n      : 1000;\n    const startValue = parseInt(digitsCounter.innerHTML);\n    const startPosition = 0;\n    const step = timestamp => {\n      if (!startTimestamp) startTimestamp = timestamp;\n      const progress = Math.min((timestamp - startTimestamp) / duration, 1);\n      digitsCounter.innerHTML = Math.floor(\n        progress * (startPosition + startValue)\n      );\n      if (progress < 1) {\n        window.requestAnimationFrame(step);\n      } else {\n        runningAnimation[digitsCounter.id] = false;\n      }\n    };\n    window.requestAnimationFrame(step);\n  }\n  // Пуск при завантаженні сторінки\n  //digitsCountersInit();\n\n  // //Пуск при скролі (появі блока з лічильниками)\n  let options = {\n    threshold: 0.3,\n  };\n  let observer = new IntersectionObserver((entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const targetElement = entry.target;\n        const digitsCountersItems = targetElement.querySelectorAll(\n          '[data-digits-counter]'\n        );\n        if (digitsCountersItems.length) {\n          digitsCountersInit(digitsCountersItems);\n        }\n        //  Вимкнути відслідковування після спрацювання\n        //observer.unobserve(targetElement);\n      }\n    });\n  }, options);\n\n  let sections = document.querySelectorAll('.why, .hero__statistics');\n  //if (sections.length) {\n  sections.forEach(section => {\n    observer.observe(section);\n  });\n  //}\n}\n\n"],"names":["window","addEventListener","runningAnimation","digitsCountersInit","digitsCountersItems","digitsCounters","document","querySelectorAll","forEach","digitsCounter","id","startTimestamp","duration","parseInt","dataset","startValue","innerHTML","startPosition","step","timestamp","progress","Math","min","floor","requestAnimationFrame","digitsCountersAnimate","observer","IntersectionObserver","entries","entry","isIntersecting","target","length","threshold","section","observe"],"version":3,"file":"index.a58233e1.js.map"}